## Zookeeper

#### 一、分布式协调技术

- **分布式协调技术**主要是用来解决分布式环境中多个进程之间的同步控制。**核心**是实现这个分布式锁。


#### 二、ZooKeeper概述

- **Zookeeper**是一种为分布式应用所设计的高可用、高性能且一致的开源协调服务，它提供了一项基本服务：分布式锁服务。其他的使用方法：配置维护、组服务、分布式消息队列、分布式通知/协调。提供的服务主要是通过：数据结构+原语+watcher机制，三个部分来实现的。

![WeChat Image_20190418165832](C:\Xingwei\Owner\Typora\Typora\Notebook\Zookeeper\images\WeChat Image_20190418165832.png)



#### 三、ZooKeeper数据模型

- **Znode**指的是Zookeeper树中的每个节点。Zookeeper树中的每个节点可以拥有子节点，但不同的是
  - **引用方式**
  - **Znode结构**：兼具文件和目录两种特点。
  - **数据访问**：每个节点的存储的数据要被原子性的操作。也就是说读操作江湖去节点相关的所有数据，写操作也将替换掉节点的所有数据。另外每个节点有自己的ACL(控制访问列表)，这个列表规定了用户的权限。
  - **节点类型**：临时节点和永久节点。节点类型一旦被创建就被确定，不能改变。
    - **临时节点**：生命周期依赖创建他们的会话。一旦会话结束，临时节点就被自动删除。**临时节点不能有子节点。**
    - **永久节点**：只有在客户端显示删除操作的时候，节点才会被删除。
  - **顺序节点**
  - **观察（Watch）**：客户端可以在节点上设置watch，称之为监视器。当节点状态发生改变时，将会触发watch对应的操作。当watch被触发时，zookeeper将会向客户端发送且发送一条通知，**watch只会被触发一次**。
- **Zookeeper中的时间**
  - Zxid







#### 四、ZooKeeper服务中操作

- 







#### 五、Watch触发器











#### 六、ZooKeeper应用举例





























































































